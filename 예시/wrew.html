<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>배달 앱 메인 페이지</title>
  <style>
    /* 기본 스타일 */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background: #f5f5f5;
    }
    #header {
      text-align: center;
      margin-bottom: 20px;
    }
    /* 검색창 (최하단) */
    #search-bar {
      text-align: center;
      margin-top: 20px;
    }
    #search-bar input {
      padding: 10px;
      width: 300px;
      border: 1px solid #ddd;
      border-radius: 5px;
    }
    /* 메달 스타일 (상위 3개 매장) */
    #top-stores {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin: 20px 0;
      max-width: 900px; /* 중앙 정렬 */
      margin-left: auto;
      margin-right: auto;
    }
    .medal {
      border: 2px solid;
      padding: 15px;
      text-align: center;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      width: 250px; /* 모든 매장 폭 균일 */
    }
    .gold {
      border-color: gold;
      background: #fff8e1;
    }
    .silver {
      border-color: silver;
      background: #f5f5f5;
    }
    .bronze {
      border-color: #cd7f32;
      background: #f8edeb;
    }
    .medal img {
      width: 100%;
      height: 180px; /* 금메달 이미지 약간 더 큼 */
      object-fit: cover;
      border-radius: 5px;
    }
    .gold img {
      height: 200px; /* 금메달 이미지 더 큼 */
    }
    .medal h3 {
      font-size: 1.4em; /* 은/동메달 텍스트 */
      margin: 10px 0;
    }
    .gold h3 {
      font-size: 1.6em; /* 금메달 텍스트 더 큼 */
    }
    .medal p {
      font-size: 1em;
    }
    .gold p {
      font-size: 1.2em;
    }
    /* 구분선 */
    .divider {
      border-top: 2px solid #ddd;
      margin: 30px auto;
      max-width: 900px;
    }
    /* 매장 리스트 (하위 매장) */
    #store-list {
      display: grid;
      grid-template-columns: repeat(3, 1fr); /* 한 줄에 3개 */
      gap: 10px;
      margin-bottom: 20px;
      max-width: 900px; /* 중앙 정렬 */
      margin-left: auto;
      margin-right: auto;
    }
    .store-card {
      border: 1px solid #ddd;
      padding: 10px;
      border-radius: 5px;
      background: white;
      text-align: center;
      width: 250px; /* 하위 매장 폭도 상위와 동일 */
    }
    .store-card img {
      width: 100%;
      height: 140px; /* 하위 매장 이미지 작게 */
      object-fit: cover;
      border-radius: 5px;
    }
    .store-card h3 {
      font-size: 1.2em;
      margin: 8px 0;
    }
    .store-card p {
      font-size: 0.9em;
    }
    /* 페이징 */
    #pagination {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 20px;
    }
    #pagination button {
      padding: 5px 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
      cursor: pointer;
    }
    #pagination button:disabled {
      background: #ddd;
      cursor: not-allowed;
    }
  </style>
</head>
<body>
  <div id="header">
    <h1>배달�app>
    <span>위치: 서울</span>
  </div>
  <div id="top-stores"></div>
  <div class="divider"></div>
  <div id="store-list"></div>
  <div id="pagination"></div>
  <div id="search-bar">
    <input type="text" placeholder="검색...">
  </div>

  <script>
    // 샘플 매장 데이터 (25개)
    const stores = [
      { id: 1, name: "맛있는 한식집", category: "한식", rating: 4.7, deliveryTime: 25, image: "https://via.placeholder.com/250x150?text=한식1" },
      { id: 2, name: "최고의 김밥", category: "한식", rating: 4.5, deliveryTime: 20, image: "https://via.placeholder.com/250x150?text=한식2" },
      { id: 3, name: "한옥식당", category: "한식", rating: 4.3, deliveryTime: 30, image: "https://via.placeholder.com/250x150?text=한식3" },
      { id: 4, name: "매운갈비집", category: "한식", rating: 4.6, deliveryTime: 22, image: "https://via.placeholder.com/250x150?text=한식4" },
      { id: 5, name: "국밥마을", category: "한식", rating: 4.4, deliveryTime: 28, image: "https://via.placeholder.com/250x150?text=한식5" },
      { id: 6, name: "비�im밥 전문점", category: "한식", rating: 4.2, deliveryTime: 26, image: "https://via.placeholder.com/250x150?text=한식6" },
      { id: 7, name: "삼겹살집", category: "한식", rating: 4.8, deliveryTime: 24, image: "https://via.placeholder.com/250x150?text=한식7" },
      { id: 8, name: "된장국수", category: "한식", rating: 4.1, deliveryTime: 27, image: "https://via.placeholder.com/250x150?text=한식8" },
      { id: 9, name: "김치찌개", category: "한식", rating: 4.0, deliveryTime: 23, image: "https://via.placeholder.com/250x150?text=한식9" },
      { id: 10, name: "불고기집", category: "한식", rating: 4.9, deliveryTime: 21, image: "https://via.placeholder.com/250x150?text=한식10" },
      { id: 11, name: "한정식 명가", category: "한식", rating: 4.7, deliveryTime: 29, image: "https://via.placeholder.com/250x150?text=한식11" },
      { id: 12, name: "고추장불고기", category: "한식", rating: 4.5, deliveryTime: 24, image: "https://via.placeholder.com/250x150?text=한식12" },
      { id: 13, name: "된장찌개집", category: "한식", rating: 4.3, deliveryTime: 26, image: "https://via.placeholder.com/250x150?text=한식13" },
      { id: 14, name: "갈비탕 전문", category: "한식", rating: 4.6, deliveryTime: 23, image: "https://via.placeholder.com/250x150?text=한식14" },
      { id: 15, name: "냉면집", category: "한식", rating: 4.4, deliveryTime: 25, image: "https://via.placeholder.com/250x150?text=한식15" },
      { id: 16, name: "떡볶이 마을", category: "한식", rating: 4.2, deliveryTime: 20, image: "https://via.placeholder.com/250x150?text=한식16" },
      { id: 17, name: "순대국밥", category: "한식", rating: 4.5, deliveryTime: 27, image: "https://via.placeholder.com/250x150?text=한식17" },
      { id: 18, name: "제육볶음", category: "한식", rating: 4.3, deliveryTime: 22, image: "https://via.placeholder.com/250x150?text=한식18" },
      { id: 19, name: "김밥천국", category: "한식", rating: 4.1, deliveryTime: 24, image: "https://via.placeholder.com/250x150?text=한식19" },
      { id: 20, name: "설렁탕집", category: "한식", rating: 4.6, deliveryTime: 28, image: "https://via.placeholder.com/250x150?text=한식20" },
      { id: 21, name: "곱창전골", category: "한식", rating: 4.4, deliveryTime: 26, image: "https://via.placeholder.com/250x150?text=한식21" },
      { id: 22, name: "된장덮밥", category: "한식", rating: 4.2, deliveryTime: 23, image: "https://via.placeholder.com/250x150?text=한식22" },
      { id: 23, name: "잡채집", category: "한식", rating: 4.5, deliveryTime: 25, image: "https://via.placeholder.com/250x150?text=한식23" },
      { id: 24, name: "오징어볶음", category: "한식", rating: 4.3, deliveryTime: 21, image: "https://via.placeholder.com/250x150?text=한식24" },
      { id: 25, name: "고기국수", category: "한식", rating: 4.7, deliveryTime: 22, image: "https://via.placeholder.com/250x150?text=한식25" },
    ];

    const ITEMS_PER_PAGE = 9; // 한 줄 3개 x 3줄
    let currentPage = 1;
    const defaultCategory = '한식'; // 기본 카테고리 고정

    function renderStores(page = 1) {
      const filteredStores = stores.filter(store => store.category === defaultCategory);
      
      // 상위 3개 매장 (고정 노출)
      const topStores = filteredStores
        .sort((a, b) => b.rating - a.rating)
        .slice(0, 3);
      
      const topStoresContainer = document.getElementById('top-stores');
      topStoresContainer.innerHTML = `
        <div class="medal silver">${topStores[1] ? `<img src="${topStores[1].image}" alt="${topStores[1].name}"><h3>2등: ${topStores[1].name}</h3><p>★${topStores[1].rating} | ${topStores[1].deliveryTime}분</p>` : ''}</div>
        <div class="medal gold">${topStores[0] ? `<img src="${topStores[0].image}" alt="${topStores[0].name}"><h3>1등: ${topStores[0].name}</h3><p>★${topStores[0].rating} | ${topStores[0].deliveryTime}분</p>` : ''}</div>
        <div class="medal bronze">${topStores[2] ? `<img src="${topStores[2].image}" alt="${topStores[2].name}"><h3>3등: ${topStores[2].name}</h3><p>★${topStores[2].rating} | ${topStores[2].deliveryTime}분</p>` : ''}</div>
      `;

      // 상위 3개 제외한 나머지 매장
      const topStoreIds = topStores.map(store => store.id);
      const remainingStores = filteredStores.filter(store => !topStoreIds.includes(store.id));

      // 페이징 계산
      const start = (page - 1) * ITEMS_PER_PAGE;
      const end = start + ITEMS_PER_PAGE;
      const paginatedStores = remainingStores.slice(start, end);

      // 하위 매장 리스트 렌더링
      const storeList = document.getElementById('store-list');
      storeList.innerHTML = '';
      paginatedStores.forEach(store => {
        const card = document.createElement('div');
        card.className = 'store-card';
        card.innerHTML = `
          <img src="${store.image}" alt="${store.name}">
          <h3>${store.name}</h3>
          <p>평점: ${store.rating} | 배달: ${store.deliveryTime}분</p>
        `;
        storeList.appendChild(card);
      });

      // 페이징 버튼
      const totalPages = Math.ceil(remainingStores.length / ITEMS_PER_PAGE);
      const pagination = document.getElementById('pagination');
      pagination.innerHTML = `
        <button class="prev" ${page === 1 ? 'disabled' : ''}>이전</button>
        ${Array.from({ length: totalPages }, (_, i) => `
          <button data-page="${i + 1}" ${page === i + 1 ? 'disabled' : ''}>${i + 1}</button>
        `).join('')}
        <button class="next" ${page === totalPages ? 'disabled' : ''}>다음</button>
      `;
    }

    // 페이징 버튼 클릭
    document.getElementById('pagination').addEventListener('click', (e) => {
      if (e.target.tagName === 'BUTTON') {
        if (e.target.classList.contains('prev') && currentPage > 1) {
          currentPage--;
        } else if (e.target.classList.contains('next')) {
          currentPage++;
        } else if (e.target.dataset.page) {
          currentPage = parseInt(e.target.dataset.page);
        }
        renderStores(currentPage);
      }
    });

    // 초기 렌더링
    renderStores(1);
  </script>
</body>
</html>